- [x] Lingering lifetime issue
- [x] Snapshotting
- [x] Test event loop
- [x] Test promises across snapshots
- [x] Rename jsnap to xs-sandbox
- [x] Clean up unused functions like process_message
- [x] Metering support
- [x] Synchronous response from sendMessage
- [x] Exception from sendMessage
- [x] Undefined from sendMessage
- [ ] Console.log
- [ ] Location information on exceptions
- [ ] Consider reentrancy
- [ ] Consider reentrancy and snapshotting (e.g. snapshotting while the stack is active or snapshotting in the job queue).
- [ ] Instrumentation and debugging
- [ ] Test and document behavior of non-deterministic behavior
- [ ] Check failure cases like metering expiry or other exception.
- [ ] Check memory usage and performance. Maybe try spinning up 1000 instances.
- [ ] Add TextDecoder and TextEncoder
- [ ] Check the TODOs in code
- [ ] Support ESModules

- [ ] Re-enable optimization
- [ ] Re-enable terser
- [ ] Re-enable SINGLE_FILE


